<!DOCTYPE html>
<html>

<head>
    <link href="style.css" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet"
        href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/css/bootstrap-select.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        body {
            background-color: beige;
        }
    </style>
</head>

<body>
    <nav class="home1">
        <div class="right">
            <a href="profile.html">PROFILE</a>
            <a href="#">LOG OUT</a>
        </div>
        <div class="left">
            <a href="homepage.html">HOME</a>
            <a href="about.html">ABOUT</a>
        </div>
    </nav>
    <div class="jumbotron"
        style="margin-top:10%; margin-left:3%; margin-right:3%; color: beige; background-color: #6E0606;">
        <h1 class="welcome">Finish your profile</h1>
        <p class="lead">Please finish setting up your profile before we can start matching you.</p>
        <div id="jumbo>">
            <h3>Rate/30 minutes</h3>
            <p>$<input type="text" id="rate-input"> /30 minutes</p>
            <h3>Time slots</h3>
            <form>
                <div class="form-row align-items-center">
                    <div class="col-auto my-1">
                        <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Preference</label>
                        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect">
                            <option selected>Days of the week</option>
                            <option value="1">Monday</option>
                            <option value="2">Teusday</option>
                            <option value="3">Wednesday</option>
                            <option value="4">Thursday</option>
                            <option value="5">Friday</option>
                            <option value="6">Saturday</option>
                            <option value="7">Sunday</option>
                        </select>
                    </div>
                </div>
            </form>
            <input id="input" type="text">
            <button id="add" style="background-color: #6E0606; color: beige;">Add Timeslot</button>
            <p id="list"></p>
            <select class="selectpicker" id = "picker" data-show-subtext="true" data-live-search="true">
                <option value="1">ACCT</option>
                <option value="2">AALO</option>
                <option value="3">AERO</option>
                <option value="4">AERS</option>
                <option value="5">AFST</option>
                <option value="6">AGCJ</option>
                <option value="7">AGEC</option>
                <option value="8">AGLS</option>
                <option value="9">AGSC</option>
                <option value="10">AGSM</option>
                <option value="11">ALEC</option>
                <option value="12">ALED</option>
                <option value="13">ANSC</option>
                <option value="14">ANTH</option>
                <option value="15">ARAB</option>
                <option value="16">ARCH</option>
                <option value="17">AREN</option>
                <option value="18">ARSC</option>
                <option value="19">ARTS</option>
                <option value="20">ASCC</option>
                <option value="21">ASIA</option>
                <option value="22">ASTR</option>
                <option value="23">ATMO</option>
                <option value="24">ATTR</option>
                <option value="25">BAEN</option>
                <option value="26">BEFB</option>
                <option value="27">BESC</option>
                <option value="28">BICH</option>
                <option value="29">BIMS</option>
                <option value="30">BIOL</option>
                <option value="31">BMEN</option>
                <option value="32">BOTN</option>
                <option value="33">BUSH</option>
                <option value="34">BUSN</option>
                <option value="35">CARC</option>
                <option value="36">CEHD</option>
                <option value="37">CHEM</option>
                <option value="38">CHEN</option>
                <option value="39">CHIN</option>
                <option value="40">CLAS</option>
                <option value="41">CLEN</option>
                <option value="42">COMM</option>
                <option value="43">COSC</option>
                <option value="44">CSCE</option>
                <option value="45">CVEN</option>
                <option value="46">CYBR</option>
                <option value="47">DAEN</option>
                <option value="48">DASC</option>
                <option value="49">DCED</option>
                <option value="50">DDHS</option>
                <option value="51">DIVE</option>
                <option value="52">ECCB</option>
                <option value="53">ECEN</option>
                <option value="54">ECHE</option>
                <option value="55">ECMT</option>
                <option value="56">ECON</option>
                <option value="57">EDCI</option>
                <option value="58">EHRD</option>
                <option value="59">ENDG</option>
                <option value="60">ENDS</option>
                <option value="61">ENGL</option>
                <option value="62">ENGR</option>
                <option value="63">ENST</option>
                <option value="64">ENTC</option>
                <option value="65">ENTO</option>
                <option value="66">EPFB</option>
                <option value="67">EPSY</option>
                <option value="68">ESET</option>
                <option value="69">ESSM</option>
                <option value="70">EURO</option>
                <option value="71">EVEN</option>
                <option value="72">FILM</option>
                <option value="73">FINC</option>
                <option value="74">FINP</option>
                <option value="75">FIVS</option>
                <option value="76">FREN</option>
                <option value="77">FRSC</option>
                <option value="78">FSCI</option>
                <option value="79">FSTC</option>
                <option value="80">FYEX</option>
                <option value="81">GALV</option>
                <option value="82">GENE</option>
                <option value="83">GEOG</option>
                <option value="84">GEOL</option>
                <option value="85">GEOP</option>
                <option value="86">GEOS</option>
                <option value="87">GERM</option>
                <option value="88">HBRW</option>
                <option value="89">HEFB</option>
                <option value="90">HHUM</option>
                <option value="91">HISP</option>
                <option value="92">HIST</option>
                <option value="93">HLTH</option>
                <option value="94">HMGT</option>
                <option value="95">HORT</option>
                <option value="96">HUMA</option>
                <option value="97">IBUS</option>
                <option value="98">IDIS</option>
                <option value="99">INST</option>
                <option value="100">INTA</option>
                <option value="101">INTS</option>
                <option value="102">ISEN</option>
                <option value="103">ISTM</option>
                <option value="104">ITAL</option>
                <option value="105">ITDE</option>
                <option value="106">ITSV</option>
                <option value="107">JAPN</option>
                <option value="108">JOUR</option>
                <option value="109">JWST</option>
                <option value="110">KINE</option>
                <option value="111">KNFB</option>
                <option value="112">LAND</option>
                <option value="113">LDEV</option>
                <option value="114">LING</option>
                <option value="115">LMAS</option>
                <option value="116">MARA</option>
                <option value="117">MARB</option>
                <option value="118">MARE</option>
                <option value="119">MARR</option>
                <option value="120">MARS</option>
                <option value="121">MART</option>
                <option value="122">MASC</option>
                <option value="123">MASE</option>
                <option value="124">MAST</option>
                <option value="125">MATH</option>
                <option value="126">MEEN</option>
                <option value="127">MEFB</option>
                <option value="128">MEPS</option>
                <option value="129">METR</option>
                <option value="130">MGMT</option>
                <option value="131">MICR</option>
                <option value="132">MKTG</option>
                <option value="133">MLSC</option>
                <option value="134">MMET</option>
                <option value="135">MODL</option>
                <option value="136">MSEN</option>
                <option value="137">MTDE</option>
                <option value="138">MUSC</option>
                <option value="139">MUST</option>
                <option value="140">MXET</option>
                <option value="141">NAUT</option>
                <option value="142">NRSC</option>
                <option value="143">NUEN</option>
                <option value="144">NURS</option>
                <option value="145">NUTR</option>
                <option value="146">NVSC</option>
                <option value="147">OCEN</option>
                <option value="148">OCNG</option>
                <option value="149">PBSI</option>
                <option value="150">PERF</option>
                <option value="151">PETE</option>
                <option value="152">PHIL</option>
                <option value="153">PHLT</option>
                <option value="154">PHYS</option>
                <option value="155">PLPA</option>
                <option value="156">POLS</option>
                <option value="157">PORT</option>
                <option value="158">POSC</option>
                <option value="159">PVFA</option>
                <option value="160">RDNG</option>
                <option value="161">RELS</option>
                <option value="162">RENR</option>
                <option value="163">RPTS</option>
                <option value="164">RUSS</option>
                <option value="165">RWFM</option>
                <option value="166">SCMT</option>
                <option value="167">SCSC</option>
                <option value="168">SEFB</option>
                <option value="169">SENG</option>
                <option value="170">SOCI</option>
                <option value="171">SOMS</option>
                <option value="172">SPAN</option>
                <option value="173">SPED</option>
                <option value="174">SPMT</option>
                <option value="175">STAT</option>
                <option value="176">TCMG</option>
                <option value="177">TEED</option>
                <option value="178">TEFB</option>
                <option value="179">UGST</option>
                <option value="180">URPN</option>
                <option value="181">VIBS</option>
                <option value="182">VIST</option>
                <option value="183">VLCS</option>
                <option value="184">VSCS</option>
                <option value="185">VTPB</option>
                <option value="186">VTPP</option>
                <option value="187">WFSC</option>
                <option value="188">WGST</option>
                <option value="189">ZOOL</option>
            </select>
            <h2>Course number</h2>
                <input style = "color: black;"id = "courseNum" class ="text">
            <button id = "addCourse">Add Course</button>
            <p id="listCourse"></p>
            

            <hr class="my-4">
            
            <a class="btn btn-primary btn-lg" id='submit-type' role="button"
                style="background-color: rgb(78, 149, 149);">Next</a>
        </div>
    </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
    //import { getDatabase, set} from 'firebase/database'
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyBwCOZyWSaa0xswC4CFLRT1-Kf5ZDeojyo",
        authDomain: "hack23-d29c9.firebaseapp.com",
        databaseURL: "https://hack23-d29c9-default-rtdb.firebaseio.com",
        projectId: "hack23-d29c9",
        storageBucket: "hack23-d29c9.appspot.com",
        messagingSenderId: "991221953378",
        appId: "1:991221953378:web:14fae9949ac2e35d8d323b",
        measurementId: "G-LK91YT4F18"
    };
    var courses = []
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    //const analytics = getAnalytics(app);

    import { getDatabase, set, get, update, remove, ref, child }
        from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";
    const db = getDatabase();

    function InsertData() {
        //console.log(document.getElementById('username').value)
        console.log(document.getElementById("listCourse").innerHTML)
        console.log(document.getElementById("list").innerHTML)
        update(ref(db, "jsonData/"+"" + localStorage.getItem("Username")), { rate: document.getElementById("rate-input").value, dates: document.getElementById("list").innerHTML, course: courses})
            .then((userCredential) => {
                localStorage.setItem("Profile", document.getElementById("inlineFormCustomSelect").options[document.getElementById("inlineFormCustomSelect").selectedIndex].value)
                window.location.href = "homepage.html"
                //window.location.href = "homepage.html";
            })
            .catch((error) => {
                //alert(error);
            });
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        let btn = document.getElementById('submit-type')
        btn.addEventListener('click', function (evt) {
            InsertData();
        })
    })
    document.addEventListener('DOMContentLoaded', () => {
        let btn = document.getElementById('add')
        btn.addEventListener('click', function (evt) {
            document.getElementById("list").innerHTML += getText() + ": " + document.getElementById("input").value + ", "
        })
    })
    document.addEventListener('DOMContentLoaded', () => {
        let btn = document.getElementById('addCourse')
        btn.addEventListener('click', function (evt) {
            document.getElementById("listCourse").innerHTML += document.getElementById("picker").options[document.getElementById("picker").selectedIndex].innerHTML + " "+document.getElementById('courseNum').value + ", "
            courses.push(document.getElementById("picker").options[document.getElementById("picker").selectedIndex].innerHTML + " "+document.getElementById('courseNum').value )
        })
    })
    /*
    document.addEventListener('DOMContentLoaded', () => {
        let btn = document.getElementById('LoginBtn')
        btn.addEventListener('click', function (evt) {
            FindData();
            clearFields();
        })
    })
    */
    function getText() {
        var store = document.getElementById("inlineFormCustomSelect").options[document.getElementById("inlineFormCustomSelect").selectedIndex].value
        if (store == 1) {
            return "Monday"
        } else if (store == 2) {
            return "Teusday"
        } else if (store == 3) {
            return "Wednesday"
        } else if (store == 4) {
            return "Thursday"
        } else if (store == 5) {
            return "Friday"
        } else if (store == 6) {
            return "Saturday"
        } else if (store == 7) {
            return "Sunday"
        } else {
            return null
        }
    }
</script>

</html>