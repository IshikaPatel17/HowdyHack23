<!DOCTYPE html>

<head>
    
</head>

<body>

    <h3>Name</h3>
    <input id='name'></input>
    <h3>Email</h3>
    <input id='email'></input>
    <h3>Username</h3>
    <input id='username'></input>
    <h3>Password</h3>
    <input id='password'></input>
    <button id="enter">Enter</button>


    <script type='module'>
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        //import { getDatabase, set} from 'firebase/database'
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyBwCOZyWSaa0xswC4CFLRT1-Kf5ZDeojyo",
            authDomain: "hack23-d29c9.firebaseapp.com",
            databaseURL: "https://hack23-d29c9-default-rtdb.firebaseio.com",
            projectId: "hack23-d29c9",
            storageBucket: "hack23-d29c9.appspot.com",
            messagingSenderId: "991221953378",
            appId: "1:991221953378:web:14fae9949ac2e35d8d323b",
            measurementId: "G-LK91YT4F18"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        //const analytics = getAnalytics(app);

        import { getDatabase, set, get, update, remove, ref, child }
            from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";
        const db = getDatabase();

        function InsertData() {
            console.log(document.getElementById('username').value)
            set(ref(db, ""+document.getElementById('username').value), { name: document.getElementById('name').value, email: document.getElementById('email').value, username: document.getElementById('username').value, password: document.getElementById('password').value })
                .then((userCredential) => {
                    localStorage.setItem("Username", document.getElementById('username').value)
                    window.location.href = 'homepage.html'
                    //window.location.href = "homepage.html";
                })
                .catch((error) => {
                    //alert(error);
                });

        }

        document.addEventListener('DOMContentLoaded', () => {
            let btn = document.getElementById('enter')
            btn.addEventListener('click', function (evt) {
                console.log(db)
                console.log("works")
                InsertData();
            })
        })
        /*
        document.addEventListener('DOMContentLoaded', () => {
            let btn = document.getElementById('LoginBtn')
            btn.addEventListener('click', function (evt) {
                FindData();
                clearFields();
            })
        })
        */
    </script>
</body>